<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guide Complet - IT Inventory Project</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        html {
            scroll-behavior: smooth;
        }
        .code-block {
            background: #1e293b;
            color: #e2e8f0;
            padding: 1rem;
            border-radius: 0.5rem;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 0.875rem;
            line-height: 1.5;
        }
        .code-block code {
            color: #e2e8f0;
        }
        .nav-link {
            transition: all 0.2s;
        }
        .nav-link:hover {
            background-color: #f1f5f9;
            padding-left: 1rem;
        }
        .section-anchor {
            scroll-margin-top: 80px;
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Navigation Sidebar -->
    <div class="fixed left-0 top-0 h-full w-64 bg-white border-r border-gray-200 overflow-y-auto z-10">
        <div class="p-6">
            <h1 class="text-2xl font-bold text-indigo-600 mb-6">ğŸ“š Guide IT Inventory</h1>
            <nav class="space-y-2">
                <a href="#overview" class="block nav-link px-3 py-2 rounded text-gray-700 hover:bg-gray-100">ğŸ¯ Vue d'ensemble</a>
                <a href="#architecture" class="block nav-link px-3 py-2 rounded text-gray-700 hover:bg-gray-100">ğŸ—ï¸ Architecture Laravel</a>
                <a href="#structure" class="block nav-link px-3 py-2 rounded text-gray-700 hover:bg-gray-100">ğŸ“ Structure des fichiers</a>
                <a href="#models" class="block nav-link px-3 py-2 rounded text-gray-700 hover:bg-gray-100">ğŸ—„ï¸ ModÃ¨les Eloquent</a>
                <a href="#controllers" class="block nav-link px-3 py-2 rounded text-gray-700 hover:bg-gray-100">ğŸ® ContrÃ´leurs</a>
                <a href="#requests" class="block nav-link px-3 py-2 rounded text-gray-700 hover:bg-gray-100">âœ… Form Requests</a>
                <a href="#middleware" class="block nav-link px-3 py-2 rounded text-gray-700 hover:bg-gray-100">ğŸ›¡ï¸ Middleware</a>
                <a href="#routes" class="block nav-link px-3 py-2 rounded text-gray-700 hover:bg-gray-100">ğŸ›£ï¸ Routes</a>
                <a href="#views" class="block nav-link px-3 py-2 rounded text-gray-700 hover:bg-gray-100">ğŸ¨ Vues & Composants</a>
                <a href="#migrations" class="block nav-link px-3 py-2 rounded text-gray-700 hover:bg-gray-100">ğŸ“Š Migrations</a>
                <a href="#seeders" class="block nav-link px-3 py-2 rounded text-gray-700 hover:bg-gray-100">ğŸŒ± Seeders</a>
                <a href="#features" class="block nav-link px-3 py-2 rounded text-gray-700 hover:bg-gray-100">âš™ï¸ FonctionnalitÃ©s</a>
                <a href="#patterns" class="block nav-link px-3 py-2 rounded text-gray-700 hover:bg-gray-100">ğŸ”§ Patterns utilisÃ©s</a>
            </nav>
        </div>
    </div>

    <!-- Main Content -->
    <div class="ml-64 p-8">
        <div class="max-w-5xl mx-auto">
            
            <!-- Vue d'ensemble -->
            <section id="overview" class="section-anchor mb-16">
                <div class="bg-white rounded-lg shadow-lg p-8">
                    <h2 class="text-3xl font-bold text-gray-900 mb-4">ğŸ¯ Vue d'ensemble du Projet</h2>
                    <div class="space-y-4 text-gray-700">
                        <p><strong>IT Inventory</strong> est un systÃ¨me de gestion de parc informatique dÃ©veloppÃ© avec <strong>Laravel 12</strong> et <strong>PHP 8.2+</strong>.</p>
                        
                        <div class="bg-indigo-50 border-l-4 border-indigo-500 p-4 rounded">
                            <h3 class="font-semibold text-indigo-900 mb-2">Objectif principal :</h3>
                            <p class="text-indigo-800">GÃ©rer efficacement un parc informatique : Ã©quipements, employÃ©s, affectations, maintenances, dÃ©partements et catÃ©gories.</p>
                        </div>

                        <div class="grid grid-cols-2 gap-4 mt-6">
                            <div class="bg-blue-50 p-4 rounded-lg">
                                <h4 class="font-semibold text-blue-900">Technologies Frontend</h4>
                                <ul class="text-blue-800 text-sm mt-2 space-y-1">
                                    <li>â€¢ Blade Templates</li>
                                    <li>â€¢ Tailwind CSS</li>
                                    <li>â€¢ Alpine.js</li>
                                    <li>â€¢ Dark Mode</li>
                                </ul>
                            </div>
                            <div class="bg-green-50 p-4 rounded-lg">
                                <h4 class="font-semibold text-green-900">Technologies Backend</h4>
                                <ul class="text-green-800 text-sm mt-2 space-y-1">
                                    <li>â€¢ Laravel 12</li>
                                    <li>â€¢ PHP 8.2+</li>
                                    <li>â€¢ Eloquent ORM</li>
                                    <li>â€¢ MySQL/SQLite</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Architecture Laravel -->
            <section id="architecture" class="section-anchor mb-16">
                <div class="bg-white rounded-lg shadow-lg p-8">
                    <h2 class="text-3xl font-bold text-gray-900 mb-6">ğŸ—ï¸ Architecture Laravel</h2>
                    
                    <div class="space-y-6">
                        <div>
                            <h3 class="text-xl font-semibold text-gray-800 mb-3">ğŸ“ Pattern MVC (Model-View-Controller)</h3>
                            <div class="grid grid-cols-3 gap-4">
                                <div class="bg-purple-50 p-4 rounded-lg border border-purple-200">
                                    <h4 class="font-bold text-purple-900 mb-2">Model</h4>
                                    <p class="text-sm text-purple-800">Gestion des donnÃ©es et relations Eloquent</p>
                                    <p class="text-xs text-purple-600 mt-2">app/Models/</p>
                                </div>
                                <div class="bg-blue-50 p-4 rounded-lg border border-blue-200">
                                    <h4 class="font-bold text-blue-900 mb-2">View</h4>
                                    <p class="text-sm text-blue-800">Templates Blade pour l'affichage</p>
                                    <p class="text-xs text-blue-600 mt-2">resources/views/</p>
                                </div>
                                <div class="bg-green-50 p-4 rounded-lg border border-green-200">
                                    <h4 class="font-bold text-green-900 mb-2">Controller</h4>
                                    <p class="text-sm text-green-800">Logique mÃ©tier et coordination</p>
                                    <p class="text-xs text-green-600 mt-2">app/Http/Controllers/</p>
                                </div>
                            </div>
                        </div>

                        <div>
                            <h3 class="text-xl font-semibold text-gray-800 mb-3">ğŸ”„ Flux de RequÃªte Laravel</h3>
                            <div class="bg-gray-50 p-4 rounded-lg">
                                <ol class="list-decimal list-inside space-y-2 text-sm text-gray-700">
                                    <li><strong>Route</strong> (routes/web.php) â†’ DÃ©finit l'URL et le contrÃ´leur</li>
                                    <li><strong>Middleware</strong> â†’ VÃ©rifie l'authentification/autorisation</li>
                                    <li><strong>Controller</strong> â†’ Traite la requÃªte</li>
                                    <li><strong>Form Request</strong> â†’ Valide les donnÃ©es (si POST/PUT)</li>
                                    <li><strong>Model</strong> â†’ Interagit avec la base de donnÃ©es</li>
                                    <li><strong>View</strong> â†’ GÃ©nÃ¨re la rÃ©ponse HTML</li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Structure des fichiers -->
            <section id="structure" class="section-anchor mb-16">
                <div class="bg-white rounded-lg shadow-lg p-8">
                    <h2 class="text-3xl font-bold text-gray-900 mb-6">ğŸ“ Structure des Fichiers</h2>
                    
                    <div class="space-y-4">
                        <div class="border-l-4 border-blue-500 pl-4">
                            <h3 class="font-semibold text-gray-800">app/</h3>
                            <ul class="text-sm text-gray-600 mt-2 space-y-1 ml-4">
                                <li>ğŸ“‚ <code class="bg-gray-100 px-1 rounded">Http/Controllers/</code> â†’ ContrÃ´leurs (CRUD)</li>
                                <li>ğŸ“‚ <code class="bg-gray-100 px-1 rounded">Http/Middleware/</code> â†’ Middleware personnalisÃ©s</li>
                                <li>ğŸ“‚ <code class="bg-gray-100 px-1 rounded">Http/Requests/</code> â†’ Validation des formulaires</li>
                                <li>ğŸ“‚ <code class="bg-gray-100 px-1 rounded">Models/</code> â†’ ModÃ¨les Eloquent</li>
                                <li>ğŸ“‚ <code class="bg-gray-100 px-1 rounded">View/Components/</code> â†’ Composants Blade</li>
                                <li>ğŸ“‚ <code class="bg-gray-100 px-1 rounded">Providers/</code> â†’ Service Providers</li>
                            </ul>
                        </div>

                        <div class="border-l-4 border-green-500 pl-4">
                            <h3 class="font-semibold text-gray-800">resources/</h3>
                            <ul class="text-sm text-gray-600 mt-2 space-y-1 ml-4">
                                <li>ğŸ“‚ <code class="bg-gray-100 px-1 rounded">views/</code> â†’ Templates Blade</li>
                                <li>ğŸ“‚ <code class="bg-gray-100 px-1 rounded">css/</code> â†’ Styles Tailwind</li>
                                <li>ğŸ“‚ <code class="bg-gray-100 px-1 rounded">js/</code> â†’ JavaScript/Alpine.js</li>
                            </ul>
                        </div>

                        <div class="border-l-4 border-purple-500 pl-4">
                            <h3 class="font-semibold text-gray-800">database/</h3>
                            <ul class="text-sm text-gray-600 mt-2 space-y-1 ml-4">
                                <li>ğŸ“‚ <code class="bg-gray-100 px-1 rounded">migrations/</code> â†’ SchÃ©ma de la base de donnÃ©es</li>
                                <li>ğŸ“‚ <code class="bg-gray-100 px-1 rounded">seeders/</code> â†’ DonnÃ©es de test</li>
                            </ul>
                        </div>

                        <div class="border-l-4 border-yellow-500 pl-4">
                            <h3 class="font-semibold text-gray-800">routes/</h3>
                            <ul class="text-sm text-gray-600 mt-2 space-y-1 ml-4">
                                <li>ğŸ“„ <code class="bg-gray-100 px-1 rounded">web.php</code> â†’ Routes web principales</li>
                                <li>ğŸ“„ <code class="bg-gray-100 px-1 rounded">auth.php</code> â†’ Routes d'authentification</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>

            <!-- ModÃ¨les Eloquent -->
            <section id="models" class="section-anchor mb-16">
                <div class="bg-white rounded-lg shadow-lg p-8">
                    <h2 class="text-3xl font-bold text-gray-900 mb-6">ğŸ—„ï¸ ModÃ¨les Eloquent</h2>
                    
                    <div class="space-y-6">
                        <div class="bg-blue-50 p-6 rounded-lg">
                            <h3 class="text-xl font-semibold text-blue-900 mb-4">ğŸ“Š SchÃ©ma des Relations</h3>
                            <div class="code-block">
User (super_admin, technician)
â”œâ”€â”€ hasMany â†’ Assignments
â””â”€â”€ hasMany â†’ Maintenances (reported_by)

Department
â””â”€â”€ hasMany â†’ Employees

Category
â””â”€â”€ hasMany â†’ Equipments

Employee
â”œâ”€â”€ belongsTo â†’ Department
â””â”€â”€ hasMany â†’ Assignments

Equipment
â”œâ”€â”€ belongsTo â†’ Category
â”œâ”€â”€ hasMany â†’ Assignments
â”œâ”€â”€ hasOne â†’ currentAssignment (whereNull returned_at)
â””â”€â”€ hasMany â†’ Maintenances

Assignment
â”œâ”€â”€ belongsTo â†’ Equipment
â”œâ”€â”€ belongsTo â†’ Employee
â””â”€â”€ belongsTo â†’ User (assigned_by)

Maintenance
â”œâ”€â”€ belongsTo â†’ Equipment
â””â”€â”€ belongsTo â†’ User (reported_by)
                            </div>
                        </div>

                        <div class="grid grid-cols-2 gap-4">
                            <div class="border border-gray-200 p-4 rounded-lg">
                                <h4 class="font-semibold text-gray-800 mb-2">User Model</h4>
                                <ul class="text-sm text-gray-600 space-y-1">
                                    <li>â€¢ RÃ´les: super_admin, technician</li>
                                    <li>â€¢ Accessor: full_name</li>
                                    <li>â€¢ MÃ©thodes: isSuperAdmin(), isTechnician()</li>
                                </ul>
                            </div>
                            <div class="border border-gray-200 p-4 rounded-lg">
                                <h4 class="font-semibold text-gray-800 mb-2">Equipment Model</h4>
                                <ul class="text-sm text-gray-600 space-y-1">
                                    <li>â€¢ Scopes: available(), assigned(), broken()</li>
                                    <li>â€¢ MÃ©thodes: isWarrantyExpiringSoon(), isWarrantyExpired()</li>
                                    <li>â€¢ Boot: Calcule warranty_expires_at</li>
                                </ul>
                            </div>
                            <div class="border border-gray-200 p-4 rounded-lg">
                                <h4 class="font-semibold text-gray-800 mb-2">Employee Model</h4>
                                <ul class="text-sm text-gray-600 space-y-1">
                                    <li>â€¢ Accessor: full_name</li>
                                    <li>â€¢ Relation: currentAssignments()</li>
                                </ul>
                            </div>
                            <div class="border border-gray-200 p-4 rounded-lg">
                                <h4 class="font-semibold text-gray-800 mb-2">Maintenance Model</h4>
                                <ul class="text-sm text-gray-600 space-y-1">
                                    <li>â€¢ Scopes: open(), inProgress(), resolved()</li>
                                    <li>â€¢ MÃ©thodes: isOpen(), isInProgress(), isResolved()</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- ContrÃ´leurs -->
            <section id="controllers" class="section-anchor mb-16">
                <div class="bg-white rounded-lg shadow-lg p-8">
                    <h2 class="text-3xl font-bold text-gray-900 mb-6">ğŸ® ContrÃ´leurs</h2>
                    
                    <div class="space-y-6">
                        <div class="bg-indigo-50 p-4 rounded-lg">
                            <h3 class="font-semibold text-indigo-900 mb-3">Structure Standard CRUD</h3>
                            <div class="code-block">
index()    â†’ Liste avec recherche/filtres + pagination
create()   â†’ Formulaire de crÃ©ation
store()    â†’ Validation + crÃ©ation + redirection
show()     â†’ Affichage dÃ©taillÃ© avec relations
edit()     â†’ Formulaire d'Ã©dition
update()   â†’ Validation + mise Ã  jour + redirection
destroy()  â†’ Suppression + redirection
                            </div>
                        </div>

                        <div class="grid grid-cols-2 gap-4">
                            <div class="border border-gray-200 p-4 rounded-lg">
                                <h4 class="font-semibold text-gray-800 mb-2">EquipmentController</h4>
                                <ul class="text-sm text-gray-600 space-y-1">
                                    <li>â€¢ Upload d'images</li>
                                    <li>â€¢ Recherche: serial_number, model, name</li>
                                    <li>â€¢ Filtres: category_id, status</li>
                                </ul>
                            </div>
                            <div class="border border-gray-200 p-4 rounded-lg">
                                <h4 class="font-semibold text-gray-800 mb-2">EmployeeController</h4>
                                <ul class="text-sm text-gray-600 space-y-1">
                                    <li>â€¢ Recherche: first_name, last_name, email</li>
                                    <li>â€¢ Filtre: department_id</li>
                                    <li>â€¢ Tri par last_name</li>
                                </ul>
                            </div>
                            <div class="border border-gray-200 p-4 rounded-lg">
                                <h4 class="font-semibold text-gray-800 mb-2">AssignmentController</h4>
                                <ul class="text-sm text-gray-600 space-y-1">
                                    <li>â€¢ create(): Affiche Ã©quipements disponibles</li>
                                    <li>â€¢ store(): CrÃ©e assignation + met Ã  jour status</li>
                                    <li>â€¢ return(): Retour Ã©quipement</li>
                                </ul>
                            </div>
                            <div class="border border-gray-200 p-4 rounded-lg">
                                <h4 class="font-semibold text-gray-800 mb-2">DashboardController</h4>
                                <ul class="text-sm text-gray-600 space-y-1">
                                    <li>â€¢ KPIs: total, available, assigned, broken</li>
                                    <li>â€¢ Alertes garanties</li>
                                    <li>â€¢ ActivitÃ©s rÃ©centes</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Form Requests -->
            <section id="requests" class="section-anchor mb-16">
                <div class="bg-white rounded-lg shadow-lg p-8">
                    <h2 class="text-3xl font-bold text-gray-900 mb-6">âœ… Form Requests (Validation)</h2>
                    
                    <div class="space-y-4">
                        <div class="bg-green-50 p-4 rounded-lg">
                            <h3 class="font-semibold text-green-900 mb-2">Principe</h3>
                            <p class="text-sm text-green-800">Les Form Requests centralisent la validation des donnÃ©es avant qu'elles n'atteignent le contrÃ´leur.</p>
                        </div>

                        <div class="code-block">
// Exemple: StoreEquipmentRequest
public function rules(): array
{
    return [
        'name' => ['required', 'string', 'max:255'],
        'serial_number' => ['required', 'unique:equipments,serial_number'],
        'category_id' => ['required', 'exists:categories,id'],
        'status' => ['required', 'in:available,assigned,broken,scrapped'],
        'image' => ['nullable', 'image', 'mimes:jpeg,png,jpg,gif', 'max:2048'],
    ];
}

// Dans le Controller
public function store(StoreEquipmentRequest $request)
{
    $data = $request->validated(); // DonnÃ©es dÃ©jÃ  validÃ©es !
    Equipment::create($data);
}
                        </div>

                        <div class="grid grid-cols-3 gap-4">
                            <div class="border border-gray-200 p-3 rounded-lg">
                                <h4 class="font-semibold text-sm text-gray-800">Store*Request</h4>
                                <p class="text-xs text-gray-600">Validation crÃ©ation</p>
                            </div>
                            <div class="border border-gray-200 p-3 rounded-lg">
                                <h4 class="font-semibold text-sm text-gray-800">Update*Request</h4>
                                <p class="text-xs text-gray-600">Validation mise Ã  jour</p>
                            </div>
                            <div class="border border-gray-200 p-3 rounded-lg">
                                <h4 class="font-semibold text-sm text-gray-800">ProfileUpdateRequest</h4>
                                <p class="text-xs text-gray-600">Validation profil</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Middleware -->
            <section id="middleware" class="section-anchor mb-16">
                <div class="bg-white rounded-lg shadow-lg p-8">
                    <h2 class="text-3xl font-bold text-gray-900 mb-6">ğŸ›¡ï¸ Middleware</h2>
                    
                    <div class="space-y-4">
                        <div class="bg-yellow-50 p-4 rounded-lg">
                            <h3 class="font-semibold text-yellow-900 mb-2">EnsureUserIsSuperAdmin</h3>
                            <p class="text-sm text-yellow-800 mb-2">VÃ©rifie que l'utilisateur est super_admin avant d'accÃ©der aux routes protÃ©gÃ©es.</p>
                            <div class="code-block">
public function handle(Request $request, Closure $next)
{
    if (!auth()->check() || !auth()->user()->isSuperAdmin()) {
        abort(403, 'AccÃ¨s rÃ©servÃ© aux super administrateurs.');
    }
    return $next($request);
}
                            </div>
                        </div>

                        <div class="bg-blue-50 p-4 rounded-lg">
                            <h3 class="font-semibold text-blue-900 mb-2">Enregistrement dans bootstrap/app.php</h3>
                            <div class="code-block">
->withMiddleware(function (Middleware $middleware): void {
    $middleware->alias([
        'superadmin' => \App\Http\Middleware\EnsureUserIsSuperAdmin::class,
    ]);
})
                            </div>
                        </div>

                        <div class="bg-gray-50 p-4 rounded-lg">
                            <h3 class="font-semibold text-gray-900 mb-2">Utilisation dans les routes</h3>
                            <div class="code-block">
Route::middleware('superadmin')->group(function () {
    Route::resource('departments', DepartmentController::class);
    Route::resource('categories', CategoryController::class);
    Route::resource('users', UserController::class);
});
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Routes -->
            <section id="routes" class="section-anchor mb-16">
                <div class="bg-white rounded-lg shadow-lg p-8">
                    <h2 class="text-3xl font-bold text-gray-900 mb-6">ğŸ›£ï¸ Routes</h2>
                    
                    <div class="space-y-6">
                        <div class="bg-purple-50 p-4 rounded-lg">
                            <h3 class="font-semibold text-purple-900 mb-3">Structure des Routes</h3>
                            <div class="code-block">
// Route publique
Route::get('/', function () {
    return view('welcome');
})->name('welcome');

// Routes authentifiÃ©es
Route::middleware(['auth', 'verified'])->group(function () {
    // Dashboard
    Route::get('/dashboard', [DashboardController::class, 'index'])
        ->name('dashboard');
    
    // Resources CRUD (tous utilisateurs)
    Route::resource('equipments', EquipmentController::class);
    Route::resource('employees', EmployeeController::class);
    Route::resource('maintenances', MaintenanceController::class);
    
    // Assignments (actions spÃ©cifiques)
    Route::get('/assignments/create', [AssignmentController::class, 'create'])
        ->name('assignments.create');
    Route::post('/assignments', [AssignmentController::class, 'store'])
        ->name('assignments.store');
    Route::post('/assignments/{assignment}/return', [AssignmentController::class, 'return'])
        ->name('assignments.return');
    
    // Routes Super Admin uniquement
    Route::middleware('superadmin')->group(function () {
        Route::resource('departments', DepartmentController::class);
        Route::resource('categories', CategoryController::class);
        Route::resource('users', UserController::class);
    });
});
                            </div>
                        </div>

                        <div class="grid grid-cols-2 gap-4">
                            <div class="border border-gray-200 p-4 rounded-lg">
                                <h4 class="font-semibold text-gray-800 mb-2">Route Resource</h4>
                                <p class="text-sm text-gray-600">GÃ©nÃ¨re automatiquement 7 routes CRUD :</p>
                                <ul class="text-xs text-gray-500 mt-2 space-y-1">
                                    <li>GET /equipments â†’ index</li>
                                    <li>GET /equipments/create â†’ create</li>
                                    <li>POST /equipments â†’ store</li>
                                    <li>GET /equipments/{id} â†’ show</li>
                                    <li>GET /equipments/{id}/edit â†’ edit</li>
                                    <li>PUT /equipments/{id} â†’ update</li>
                                    <li>DELETE /equipments/{id} â†’ destroy</li>
                                </ul>
                            </div>
                            <div class="border border-gray-200 p-4 rounded-lg">
                                <h4 class="font-semibold text-gray-800 mb-2">Noms de Routes</h4>
                                <p class="text-sm text-gray-600">Utilisation dans les vues :</p>
                                <div class="code-block text-xs mt-2">
route('equipments.index')
route('equipments.create')
route('equipments.show', $equipment)
route('equipments.edit', $equipment)
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Vues & Composants -->
            <section id="views" class="section-anchor mb-16">
                <div class="bg-white rounded-lg shadow-lg p-8">
                    <h2 class="text-3xl font-bold text-gray-900 mb-6">ğŸ¨ Vues & Composants Blade</h2>
                    
                    <div class="space-y-6">
                        <div class="bg-indigo-50 p-4 rounded-lg">
                            <h3 class="font-semibold text-indigo-900 mb-3">Composants Blade RÃ©utilisables</h3>
                            <div class="grid grid-cols-3 gap-3">
                                <div class="bg-white p-3 rounded border border-indigo-200">
                                    <h4 class="font-semibold text-sm text-indigo-900">x-page-header</h4>
                                    <p class="text-xs text-indigo-700">En-tÃªte de page avec titre/sous-titre</p>
                                </div>
                                <div class="bg-white p-3 rounded border border-indigo-200">
                                    <h4 class="font-semibold text-sm text-indigo-900">x-card</h4>
                                    <p class="text-xs text-indigo-700">Carte avec ombre et bordure</p>
                                </div>
                                <div class="bg-white p-3 rounded border border-indigo-200">
                                    <h4 class="font-semibold text-sm text-indigo-900">x-button-primary</h4>
                                    <p class="text-xs text-indigo-700">Bouton principal indigo</p>
                                </div>
                                <div class="bg-white p-3 rounded border border-indigo-200">
                                    <h4 class="font-semibold text-sm text-indigo-900">x-button-secondary</h4>
                                    <p class="text-xs text-indigo-700">Bouton secondaire</p>
                                </div>
                                <div class="bg-white p-3 rounded border border-indigo-200">
                                    <h4 class="font-semibold text-sm text-indigo-900">x-button-danger</h4>
                                    <p class="text-xs text-indigo-700">Bouton danger (rouge)</p>
                                </div>
                                <div class="bg-white p-3 rounded border border-indigo-200">
                                    <h4 class="font-semibold text-sm text-indigo-900">x-table-actions</h4>
                                    <p class="text-xs text-indigo-700">Actions table (voir/modifier/supprimer)</p>
                                </div>
                                <div class="bg-white p-3 rounded border border-indigo-200">
                                    <h4 class="font-semibold text-sm text-indigo-900">x-status-badge</h4>
                                    <p class="text-xs text-indigo-700">Badge de statut colorÃ©</p>
                                </div>
                                <div class="bg-white p-3 rounded border border-indigo-200">
                                    <h4 class="font-semibold text-sm text-indigo-900">x-alert</h4>
                                    <p class="text-xs text-indigo-700">Message d'alerte</p>
                                </div>
                                <div class="bg-white p-3 rounded border border-indigo-200">
                                    <h4 class="font-semibold text-sm text-indigo-900">x-dark-mode-toggle</h4>
                                    <p class="text-xs text-indigo-700">Toggle mode sombre</p>
                                </div>
                            </div>
                        </div>

                        <div class="bg-gray-50 p-4 rounded-lg">
                            <h3 class="font-semibold text-gray-900 mb-2">Exemple d'utilisation</h3>
                            <div class="code-block">
<x-app-layout>
    <x-page-header
        title="Ã‰quipements"
        subtitle="GÃ©rez votre parc informatique"
        action-label="Ajouter"
        action-href="{{ route('equipments.create') }}"
    />
    
    <x-card>
        <table>
            @foreach($equipments as $equipment)
                <tr>
                    <td>{{ $equipment->name }}</td>
                    <td>
                        <x-table-actions
                            :show-route="route('equipments.show', $equipment)"
                            :edit-route="route('equipments.edit', $equipment)"
                            :delete-route="route('equipments.destroy', $equipment)"
                        />
                    </td>
                </tr>
            @endforeach
        </table>
    </x-card>
</x-app-layout>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Migrations -->
            <section id="migrations" class="section-anchor mb-16">
                <div class="bg-white rounded-lg shadow-lg p-8">
                    <h2 class="text-3xl font-bold text-gray-900 mb-6">ğŸ“Š Migrations</h2>
                    
                    <div class="space-y-4">
                        <div class="bg-blue-50 p-4 rounded-lg">
                            <h3 class="font-semibold text-blue-900 mb-2">Tables Principales</h3>
                            <div class="grid grid-cols-2 gap-3 text-sm">
                                <div>
                                    <strong>users</strong>
                                    <ul class="text-blue-700 ml-4 mt-1 space-y-1">
                                        <li>â€¢ name, prenom, email, tel</li>
                                        <li>â€¢ role: enum('super_admin', 'technician')</li>
                                        <li>â€¢ password (hashed)</li>
                                    </ul>
                                </div>
                                <div>
                                    <strong>departments</strong>
                                    <ul class="text-blue-700 ml-4 mt-1 space-y-1">
                                        <li>â€¢ name, description</li>
                                    </ul>
                                </div>
                                <div>
                                    <strong>categories</strong>
                                    <ul class="text-blue-700 ml-4 mt-1 space-y-1">
                                        <li>â€¢ name, type, description</li>
                                        <li>â€¢ type: enum('hardware', 'accessory')</li>
                                    </ul>
                                </div>
                                <div>
                                    <strong>employees</strong>
                                    <ul class="text-blue-700 ml-4 mt-1 space-y-1">
                                        <li>â€¢ first_name, last_name, email, phone</li>
                                        <li>â€¢ department_id (FK)</li>
                                    </ul>
                                </div>
                                <div>
                                    <strong>equipments</strong>
                                    <ul class="text-blue-700 ml-4 mt-1 space-y-1">
                                        <li>â€¢ name, brand, model, serial_number</li>
                                        <li>â€¢ category_id (FK)</li>
                                        <li>â€¢ status: enum</li>
                                        <li>â€¢ warranty_duration, warranty_expires_at</li>
                                        <li>â€¢ image_path, details (JSON)</li>
                                    </ul>
                                </div>
                                <div>
                                    <strong>assignments</strong>
                                    <ul class="text-blue-700 ml-4 mt-1 space-y-1">
                                        <li>â€¢ equipment_id, employee_id, user_id</li>
                                        <li>â€¢ assigned_at, returned_at</li>
                                        <li>â€¢ notes</li>
                                    </ul>
                                </div>
                                <div>
                                    <strong>maintenances</strong>
                                    <ul class="text-blue-700 ml-4 mt-1 space-y-1">
                                        <li>â€¢ equipment_id, reported_by</li>
                                        <li>â€¢ description, status</li>
                                        <li>â€¢ cost (integer), reported_at, resolved_at</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div class="bg-gray-50 p-4 rounded-lg">
                            <h3 class="font-semibold text-gray-900 mb-2">ClÃ©s Ã‰trangÃ¨res (Foreign Keys)</h3>
                            <div class="code-block">
equipments.category_id â†’ categories.id (onDelete: restrict)
employees.department_id â†’ departments.id
assignments.equipment_id â†’ equipments.id
assignments.employee_id â†’ employees.id
assignments.user_id â†’ users.id
maintenances.equipment_id â†’ equipments.id
maintenances.reported_by â†’ users.id
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Seeders -->
            <section id="seeders" class="section-anchor mb-16">
                <div class="bg-white rounded-lg shadow-lg p-8">
                    <h2 class="text-3xl font-bold text-gray-900 mb-6">ğŸŒ± Seeders</h2>
                    
                    <div class="space-y-4">
                        <div class="bg-green-50 p-4 rounded-lg">
                            <h3 class="font-semibold text-green-900 mb-2">Ordre d'exÃ©cution (DatabaseSeeder)</h3>
                            <div class="code-block">
1. UserSeeder â†’ 1 super_admin + 10 technicians
2. DepartmentSeeder â†’ 5 dÃ©partements
3. CategorySeeder â†’ CatÃ©gories hardware/accessory
4. EmployeeSeeder â†’ 30 employÃ©s
5. EquipmentSeeder â†’ 50 Ã©quipements
6. AssignmentSeeder â†’ Affectations
7. MaintenanceSeeder â†’ 25 maintenances
                            </div>
                        </div>

                        <div class="bg-blue-50 p-4 rounded-lg">
                            <h3 class="font-semibold text-blue-900 mb-2">Utilisation de Faker</h3>
                            <div class="code-block">
// GÃ©nÃ©ration de donnÃ©es rÃ©alistes
User::create([
    'name' => fake()->lastName(),
    'prenom' => fake()->firstName(),
    'email' => fake()->unique()->safeEmail(),
    'tel' => $this->generatePhoneNumber(), // Format spÃ©cifique
    'password' => Hash::make('password'),
    'role' => 'technician',
]);
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- FonctionnalitÃ©s -->
            <section id="features" class="section-anchor mb-16">
                <div class="bg-white rounded-lg shadow-lg p-8">
                    <h2 class="text-3xl font-bold text-gray-900 mb-6">âš™ï¸ FonctionnalitÃ©s Principales</h2>
                    
                    <div class="grid grid-cols-2 gap-6">
                        <div class="border border-gray-200 p-5 rounded-lg">
                            <h3 class="font-semibold text-gray-800 mb-3">ğŸ” Authentification</h3>
                            <ul class="text-sm text-gray-600 space-y-1">
                                <li>â€¢ Connexion/DÃ©connexion</li>
                                <li>â€¢ RÃ©cupÃ©ration mot de passe</li>
                                <li>â€¢ VÃ©rification email (optionnelle)</li>
                                <li>â€¢ Inscription dÃ©sactivÃ©e (admin only)</li>
                            </ul>
                        </div>

                        <div class="border border-gray-200 p-5 rounded-lg">
                            <h3 class="font-semibold text-gray-800 mb-3">ğŸ‘¥ Gestion Utilisateurs</h3>
                            <ul class="text-sm text-gray-600 space-y-1">
                                <li>â€¢ RÃ´les: super_admin, technician</li>
                                <li>â€¢ CRUD techniciens (super_admin only)</li>
                                <li>â€¢ Profil utilisateur (Ã©dition)</li>
                            </ul>
                        </div>

                        <div class="border border-gray-200 p-5 rounded-lg">
                            <h3 class="font-semibold text-gray-800 mb-3">ğŸ’» Gestion Ã‰quipements</h3>
                            <ul class="text-sm text-gray-600 space-y-1">
                                <li>â€¢ CRUD complet</li>
                                <li>â€¢ Upload d'images</li>
                                <li>â€¢ Statuts: available, assigned, broken, scrapped</li>
                                <li>â€¢ Calcul automatique garantie</li>
                                <li>â€¢ Recherche et filtres</li>
                            </ul>
                        </div>

                        <div class="border border-gray-200 p-5 rounded-lg">
                            <h3 class="font-semibold text-gray-800 mb-3">ğŸ‘¨â€ğŸ’¼ Gestion EmployÃ©s</h3>
                            <ul class="text-sm text-gray-600 space-y-1">
                                <li>â€¢ CRUD complet</li>
                                <li>â€¢ Association dÃ©partement</li>
                                <li>â€¢ Historique affectations</li>
                            </ul>
                        </div>

                        <div class="border border-gray-200 p-5 rounded-lg">
                            <h3 class="font-semibold text-gray-800 mb-3">ğŸ“¦ Affectations</h3>
                            <ul class="text-sm text-gray-600 space-y-1">
                                <li>â€¢ Assigner Ã©quipement Ã  employÃ©</li>
                                <li>â€¢ Retour Ã©quipement</li>
                                <li>â€¢ Historique complet</li>
                                <li>â€¢ Mise Ã  jour automatique statut</li>
                            </ul>
                        </div>

                        <div class="border border-gray-200 p-5 rounded-lg">
                            <h3 class="font-semibold text-gray-800 mb-3">ğŸ”§ Maintenances</h3>
                            <ul class="text-sm text-gray-600 space-y-1">
                                <li>â€¢ Signalement pannes</li>
                                <li>â€¢ Statuts: open, in_progress, resolved</li>
                                <li>â€¢ Suivi coÃ»ts (en DH)</li>
                                <li>â€¢ Dates reported/resolved</li>
                            </ul>
                        </div>

                        <div class="border border-gray-200 p-5 rounded-lg">
                            <h3 class="font-semibold text-gray-800 mb-3">ğŸ“Š Dashboard</h3>
                            <ul class="text-sm text-gray-600 space-y-1">
                                <li>â€¢ KPIs: total, available, assigned, broken</li>
                                <li>â€¢ Alertes garanties expirant</li>
                                <li>â€¢ ActivitÃ©s rÃ©centes</li>
                                <li>â€¢ Maintenances actives</li>
                            </ul>
                        </div>

                        <div class="border border-gray-200 p-5 rounded-lg">
                            <h3 class="font-semibold text-gray-800 mb-3">ğŸŒ™ Dark Mode</h3>
                            <ul class="text-sm text-gray-600 space-y-1">
                                <li>â€¢ Toggle mode sombre/clair</li>
                                <li>â€¢ Persistance localStorage</li>
                                <li>â€¢ DÃ©tection prÃ©fÃ©rence systÃ¨me</li>
                                <li>â€¢ Support complet toutes pages</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Patterns -->
            <section id="patterns" class="section-anchor mb-16">
                <div class="bg-white rounded-lg shadow-lg p-8">
                    <h2 class="text-3xl font-bold text-gray-900 mb-6">ğŸ”§ Patterns & Bonnes Pratiques</h2>
                    
                    <div class="space-y-6">
                        <div class="border-l-4 border-indigo-500 pl-4">
                            <h3 class="font-semibold text-gray-800 mb-2">1. Repository Pattern (implicite)</h3>
                            <p class="text-sm text-gray-600">Les modÃ¨les Eloquent agissent comme des repositories. Toute la logique de base de donnÃ©es est dans les modÃ¨les.</p>
                        </div>

                        <div class="border-l-4 border-green-500 pl-4">
                            <h3 class="font-semibold text-gray-800 mb-2">2. Form Request Pattern</h3>
                            <p class="text-sm text-gray-600">Validation centralisÃ©e dans des classes dÃ©diÃ©es (Store*Request, Update*Request).</p>
                        </div>

                        <div class="border-l-4 border-blue-500 pl-4">
                            <h3 class="font-semibold text-gray-800 mb-2">3. Component Pattern</h3>
                            <p class="text-sm text-gray-600">Composants Blade rÃ©utilisables pour Ã©viter la duplication de code (x-card, x-button-primary, etc.).</p>
                        </div>

                        <div class="border-l-4 border-purple-500 pl-4">
                            <h3 class="font-semibold text-gray-800 mb-2">4. Eager Loading</h3>
                            <p class="text-sm text-gray-600">Utilisation de <code class="bg-gray-100 px-1 rounded">with()</code> pour Ã©viter le problÃ¨me N+1.</p>
                            <div class="code-block mt-2">
// âŒ Mauvais (N+1 queries)
$equipments = Equipment::all();
foreach ($equipments as $equipment) {
    echo $equipment->category->name; // Query Ã  chaque itÃ©ration
}

// âœ… Bon (1 query)
$equipments = Equipment::with('category')->get();
foreach ($equipments as $equipment) {
    echo $equipment->category->name; // Pas de query supplÃ©mentaire
}
                            </div>
                        </div>

                        <div class="border-l-4 border-yellow-500 pl-4">
                            <h3 class="font-semibold text-gray-800 mb-2">5. Scopes Eloquent</h3>
                            <p class="text-sm text-gray-600">MÃ©thodes de requÃªte rÃ©utilisables dans les modÃ¨les.</p>
                            <div class="code-block mt-2">
// Dans Equipment Model
public function scopeAvailable($query)
{
    return $query->where('status', 'available');
}

// Utilisation
$available = Equipment::available()->get();
                            </div>
                        </div>

                        <div class="border-l-4 border-red-500 pl-4">
                            <h3 class="font-semibold text-gray-800 mb-2">6. Accessors & Mutators</h3>
                            <p class="text-sm text-gray-600">Transformation automatique des attributs.</p>
                            <div class="code-block mt-2">
// Accessor (getFullNameAttribute)
$user->full_name; // Retourne "Nom PrÃ©nom"

// Mutator (setPasswordAttribute)
$user->password = 'plain'; // Hash automatique
                            </div>
                        </div>

                        <div class="border-l-4 border-pink-500 pl-4">
                            <h3 class="font-semibold text-gray-800 mb-2">7. Model Events (Boot)</h3>
                            <p class="text-sm text-gray-600">Logique automatique lors de la crÃ©ation/mise Ã  jour.</p>
                            <div class="code-block mt-2">
// Dans Equipment Model
protected static function boot()
{
    parent::boot();
    
    static::creating(function ($equipment) {
        // Calcule warranty_expires_at automatiquement
        if ($equipment->purchase_date && $equipment->warranty_duration) {
            $equipment->warranty_expires_at = 
                Carbon::parse($equipment->purchase_date)
                    ->addMonths($equipment->warranty_duration);
        }
    });
}
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Footer -->
            <footer class="mt-16 py-8 text-center text-gray-600 border-t border-gray-200">
                <p>ğŸ“š Guide IT Inventory - Projet Laravel 12</p>
                <p class="text-sm mt-2">DerniÃ¨re mise Ã  jour : {{ date('d/m/Y') }}</p>
            </footer>

        </div>
    </div>
</body>
</html>
